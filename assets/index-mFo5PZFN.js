(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();function y(t){const r=[t.slice(0,3),t.slice(3,6),t.slice(6,9)],a=r.filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(a.join("").replaceAll(",","")==="XXX"||a.join("").replaceAll(",","")==="OOO")return!0;const e=[r.map(o=>o[0]),r.map(o=>o[1]),r.map(o=>o[2])].filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(e.join("").replaceAll(",","")==="XXX"||e.join("").replaceAll(",","")==="OOO")return!0;const n=t.filter((o,s)=>{if(s===0||s===4||s===8)return o});if(n.join("").replaceAll(",","")==="XXX"||n.join("").replaceAll(",","")==="OOO")return!0;const c=t.filter((o,s)=>{if(s===2||s===4||s===6)return o});return c.join("").replaceAll(",","")==="XXX"||c.join("").replaceAll(",","")==="OOO"}const p=document.getElementById("container"),u=document.createElement("div");u.id="buttonsContainer";p.after(u);const f=document.createElement("div");f.id="playersContainer";function b(){for(let t=0;t<9;t++){const r=document.createElement("div");r.id=`espacio${t+1}`,r.classList.add("celda"),p.appendChild(r)}return p}function m(t,r,a,i,e="button"){const n=document.createElement(`${e}`);return n.type=`${t}`,n.id=`${r}`,n.classList.add(`${a}`),n.textContent=`${i}`,n}function E(t,r,a){document.getElementById("container").before(f);const e=document.createElement("p");e.id=`player${a}`,e.textContent=`Jugador: ${t} - Marca: ${r}`,f.appendChild(e)}function L(){const t=m("button","iniciar","button","Iniciar"),r=m("button","reset","button","Reiniciar");u.append(t),u.appendChild(r),t.addEventListener("click",()=>{t.classList.add("disabled"),t.disabled=!0;const a=document.createElement("form");a.classList.add("form");for(let e=0;e<2;e++){const n=document.createElement("label");n.htmlFor=`name${e+1}`,n.textContent=`Jugador ${e+1}`;const c=document.createElement("input");c.type="text",c.id=`name${e+1}`,c.required=!0;const o=document.createElement("p");o.textContent=e===0?"Jugador 1 = X":"Jugador 2 = O",o.classList.add("marca"),a.append(n),a.append(c),a.append(o)}document.body.appendChild(a);const i=m("submit","accept","button","Aceptar");a.append(i),a.addEventListener("submit",e=>{e.preventDefault(),[a.elements[0].value.trim(),a.elements[1].value.trim()].forEach((c,o)=>{E(c,o===0?"X":"O",o+1)}),a.remove()})}),r.addEventListener("click",()=>{})}function O(){return{gameboard:[" "," "," "," "," "," "," "," "," "],getTablero:function(){return[this.gameboard.slice(0,3),this.gameboard.slice(3,6),this.gameboard.slice(6,9)].map(a=>a.join("|")).join(`
-----
`)},addMark:function(t,r){t.textContent=r},renderBoard:function(){b(),L()},startBoard:function(t){return document.getElementById("playersContainer")},stateBoard:function(t,r,a,i){if(t){console.log("Felicidades has ganado");const e=document.createElement("p");e.classList.add("ganador"),e.textContent=`Felicidades ${r} has ganado ðŸŽ‰`,document.body.append(e),i.inert=!0}a===1&&console.log("No hay ganador")},resetTablero:function(){this.gameboard=[" "," "," "," "," "," "," "," "," "]}}}function h(t,r){let a;return t.classList.contains("turno")?(t.classList.remove("turno"),r.classList.add("turno"),a=r,{player:a.id,mark:"O"}):(r.classList.remove("turno"),t.classList.add("turno"),a=t,{player:a.id,mark:"X"})}function B(){let t=O();t.renderBoard();let r,a,i;const e=document.getElementById("iniciar");e.addEventListener("click",()=>{e.classList.add("active"),n.inert=!1});const n=document.getElementById("container");n.inert=!0,n.addEventListener("click",o=>{e.classList.contains("active")&&(r=t.startBoard(e).children[0],a=t.startBoard(e).children[1],e.classList.toggle("active"));let s=t.gameboard.filter(l=>l===" ").length,d=!1;if(o.target.textContent!=="X"&&o.target.textContent!=="O"){i=h(r,a),t.addMark(o.target,i.mark);const l=Number(o.target.id.replace("espacio",""));t.gameboard[l-1]=i.mark,console.log(t.gameboard)}d=y(t.gameboard),t.stateBoard(d,i.player,s,n)}),document.getElementById("reset").addEventListener("click",()=>{t.resetTablero(),n.querySelectorAll(".celda").forEach(g=>g.textContent="");const s=document.getElementById("playersContainer");s&&(s.innerHTML="");const d=document.querySelector(".ganador");d&&d.remove(),n.inert=!0;const l=document.getElementById("iniciar");l.classList.remove("disabled","active"),l.disabled=!1,console.clear(),console.log("Juego reiniciado")})}B();
