(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();function y(t){const a=[t.slice(0,3),t.slice(3,6),t.slice(6,9)],r=a.filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(r.join("").replaceAll(",","")==="XXX"||r.join("").replaceAll(",","")==="OOO")return!0;const e=[a.map(o=>o[0]),a.map(o=>o[1]),a.map(o=>o[2])].filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(e.join("").replaceAll(",","")==="XXX"||e.join("").replaceAll(",","")==="OOO")return!0;const n=t.filter((o,s)=>{if(s===0||s===4||s===8)return o});if(n.join("").replaceAll(",","")==="XXX"||n.join("").replaceAll(",","")==="OOO")return!0;const c=t.filter((o,s)=>{if(s===2||s===4||s===6)return o});return c.join("").replaceAll(",","")==="XXX"||c.join("").replaceAll(",","")==="OOO"}const p=document.getElementById("container"),u=document.createElement("div");u.id="buttonsContainer";p.after(u);const f=document.createElement("div");f.id="playersContainer";function b(){for(let t=0;t<9;t++){const a=document.createElement("div");a.id=`espacio${t+1}`,a.classList.add("celda"),p.appendChild(a)}return p}function m(t,a,r,i,e="button"){const n=document.createElement(`${e}`);return n.type=`${t}`,n.id=`${a}`,n.classList.add(`${r}`),n.textContent=`${i}`,n}function O(t,a,r){document.getElementById("container").before(f);const e=document.createElement("p");e.id=`player${r}`,e.textContent=`Jugador: ${t} - Marca: ${a}`,f.appendChild(e)}function E(){const t=m("button","iniciar","button","Iniciar"),a=m("button","reset","button","Reiniciar");u.append(t),u.appendChild(a),t.addEventListener("click",()=>{t.classList.add("disabled"),t.disabled=!0;const r=document.createElement("form");r.classList.add("form");for(let e=0;e<2;e++){const n=document.createElement("label");n.htmlFor=`name${e+1}`,n.textContent=`Jugador ${e+1}`;const c=document.createElement("input");c.type="text",c.id=`name${e+1}`,c.required=!0;const o=document.createElement("p");o.textContent=e===0?"Jugador 1 = X":"Jugador 2 = O",o.classList.add("marca"),r.append(n),r.append(c),r.append(o)}document.body.appendChild(r);const i=m("submit","accept","button","Aceptar");r.append(i),r.addEventListener("submit",e=>{e.preventDefault(),[r.elements[0].value.trim(),r.elements[1].value.trim()].forEach((c,o)=>{O(c,o===0?"X":"O",o+1)}),r.remove()})})}function L(){return{gameboard:[" "," "," "," "," "," "," "," "," "],getTablero:function(){return[this.gameboard.slice(0,3),this.gameboard.slice(3,6),this.gameboard.slice(6,9)].map(r=>r.join("|")).join(`
-----
`)},addMark:function(t,a){t.textContent=a},renderBoard:function(){b(),E()},startBoard:function(t){return document.getElementById("playersContainer")},stateBoard:function(t,a,r,i){const e=document.createElement("p");e.classList.add("final"),t&&(e.textContent=`Felicidades ${a} has ganado ðŸŽ‰`,document.body.append(e),i.inert=!0),r===1&&(e.textContent="Â¡Ha sido un empate!",document.body.append(e),i.inert=!0)},resetTablero:function(){this.gameboard=[" "," "," "," "," "," "," "," "," "]}}}function C(t,a){let r;return t.classList.contains("turno")?(t.classList.remove("turno"),a.classList.add("turno"),r=a,{player:r.textContent.split(" ")[1],mark:"O"}):(a.classList.remove("turno"),t.classList.add("turno"),r=t,{player:r.textContent.split(" ")[1],mark:"X"})}function B(){let t=L();t.renderBoard();let a,r,i;const e=document.getElementById("iniciar");e.addEventListener("click",()=>{e.classList.add("active"),n.inert=!1});const n=document.getElementById("container");n.inert=!0,n.addEventListener("click",o=>{e.classList.contains("active")&&(a=t.startBoard(e).children[0],r=t.startBoard(e).children[1],e.classList.toggle("active"));let s=t.gameboard.filter(l=>l===" ").length;if(!o.target.matches(".celda"))return;if(o.target.textContent!=="X"&&o.target.textContent!=="O"){i=C(a,r),t.addMark(o.target,i.mark);const l=Number(o.target.id.replace("espacio",""));t.gameboard[l-1]=i.mark,console.log(t.gameboard)}let d=!1;d=y(t.gameboard),t.stateBoard(d,i.player,s,n)}),document.getElementById("reset").addEventListener("click",()=>{t.resetTablero(),n.querySelectorAll(".celda").forEach(g=>g.textContent="");const s=document.getElementById("playersContainer");s&&(s.innerHTML="");const d=document.querySelector(".final");d&&d.remove(),n.inert=!0;const l=document.getElementById("iniciar");l.classList.remove("disabled","active"),l.disabled=!1,console.clear(),console.log("Juego reiniciado")})}B();
