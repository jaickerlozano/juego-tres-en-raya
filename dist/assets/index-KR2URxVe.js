(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();function y(t){const r=[t.slice(0,3),t.slice(3,6),t.slice(6,9)],a=r.filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(a.join("").replaceAll(",","")==="XXX"||a.join("").replaceAll(",","")==="OOO")return!0;const e=[r.map(o=>o[0]),r.map(o=>o[1]),r.map(o=>o[2])].filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(e.join("").replaceAll(",","")==="XXX"||e.join("").replaceAll(",","")==="OOO")return!0;const n=t.filter((o,c)=>{if(c===0||c===4||c===8)return o});if(n.join("").replaceAll(",","")==="XXX"||n.join("").replaceAll(",","")==="OOO")return!0;const s=t.filter((o,c)=>{if(c===2||c===4||c===6)return o});return s.join("").replaceAll(",","")==="XXX"||s.join("").replaceAll(",","")==="OOO"}const f=document.getElementById("container"),m=document.createElement("div");m.id="buttonsContainer";f.after(m);const g=document.createElement("div");g.id="playersContainer";function b(){for(let t=0;t<9;t++){const r=document.createElement("div");r.id=`espacio${t+1}`,r.classList.add("celda"),f.appendChild(r)}return f}function p(t,r,a,i,e="button"){const n=document.createElement(`${e}`);return n.type=`${t}`,n.id=`${r}`,n.classList.add(`${a}`),n.textContent=`${i}`,n}function L(t,r,a){document.getElementById("container").before(g);const e=document.createElement("p");e.id=`player${a}`,e.textContent=`Jugador: ${t} - Marca: ${r}`,g.appendChild(e)}function h(){const t=p("button","iniciar","button","Iniciar"),r=p("button","reset","button","Reiniciar");m.append(t),m.appendChild(r),t.addEventListener("click",()=>{t.classList.add("disabled"),t.disabled=!0;const a=document.createElement("form");a.classList.add("form");for(let e=0;e<2;e++){const n=document.createElement("label");n.htmlFor=`name${e+1}`,n.textContent=`Jugador ${e+1}`;const s=document.createElement("input");s.type="text",s.id=`name${e+1}`,s.required=!0;const o=document.createElement("p");o.textContent=e===0?"Jugador 1 = X":"Jugador 2 = O",o.classList.add("marca"),a.append(n),a.append(s),a.append(o)}document.body.appendChild(a);const i=p("submit","accept","button","Aceptar");a.append(i),a.addEventListener("submit",e=>{e.preventDefault(),[a.elements[0].value.trim(),a.elements[1].value.trim()].forEach((s,o)=>{L(s,o===0?"X":"O",o+1)}),a.remove()})})}function E(){return{gameboard:[" "," "," "," "," "," "," "," "," "],getTablero:function(){return[this.gameboard.slice(0,3),this.gameboard.slice(3,6),this.gameboard.slice(6,9)].map(a=>a.join("|")).join(`
-----
`)},addMark:function(t,r){t.textContent=r},renderBoard:function(){b(),h()},startBoard:function(t){return document.getElementById("playersContainer")},stateBoard:function(t,r,a,i){const e=document.createElement("p");e.classList.add("final"),t&&(e.textContent=`Felicidades ${r} has ganado ðŸŽ‰`,document.body.append(e),i.inert=!0),a===1&&(e.textContent="Â¡Ha sido un empate!",document.body.append(e),i.inert=!0)},resetTablero:function(){this.gameboard=[" "," "," "," "," "," "," "," "," "]}}}function O(t,r){t.querySelectorAll(".celda").forEach(i=>{i.classList.contains("played")||(i.classList.remove("hover-x","hover-o"),i.classList.add(r==="X"?"hover-x":"hover-o"))})}function C(t,r){let a;return t.classList.contains("turno")?(t.classList.remove("turno"),r.classList.add("turno"),a=r,{player:a.textContent.split(" ")[1],mark:"O"}):(r.classList.remove("turno"),t.classList.add("turno"),a=t,{player:a.textContent.split(" ")[1],mark:"X"})}function v(){let t=E();t.renderBoard();let r,a,i;const e=document.getElementById("iniciar");e.addEventListener("click",()=>{e.classList.add("active"),n.inert=!1});const n=document.getElementById("container");n.inert=!0,n.addEventListener("click",o=>{e.classList.contains("active")&&(r=t.startBoard(e).children[0],a=t.startBoard(e).children[1],e.classList.toggle("active"));let c=t.gameboard.filter(l=>l===" ").length;if(!o.target.matches(".celda"))return;if(o.target.textContent!=="X"&&o.target.textContent!=="O"){i=C(r,a),O(n,i.mark),t.addMark(o.target,i.mark);const l=Number(o.target.id.replace("espacio",""));t.gameboard[l-1]=i.mark,o.target.classList.add("played")}let d=!1;d=y(t.gameboard),t.stateBoard(d,i.player,c,n)}),document.getElementById("reset").addEventListener("click",()=>{t.resetTablero();const o=n.querySelectorAll(".celda");o.forEach(u=>u.textContent=""),o.forEach(u=>{u.classList.contains("played")&&u.classList.remove("played")});const c=document.getElementById("playersContainer");c&&(c.innerHTML="");const d=document.querySelector(".final");d&&d.remove(),n.inert=!0;const l=document.getElementById("iniciar");l.classList.remove("disabled","active"),l.disabled=!1,console.clear(),console.log("Juego reiniciado")})}v();
