(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();function b(e){const n=[e.slice(0,3),e.slice(3,6),e.slice(6,9)],r=n.filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(r.join("").replaceAll(",","")==="XXX"||r.join("").replaceAll(",","")==="OOO")return!0;const t=[n.map(o=>o[0]),n.map(o=>o[1]),n.map(o=>o[2])].filter(o=>o.join("").replace(",","")==="XXX"||o.join("").replace(",","")==="OOO");if(t.join("").replaceAll(",","")==="XXX"||t.join("").replaceAll(",","")==="OOO")return!0;const a=e.filter((o,c)=>{if(c===0||c===4||c===8)return o});if(a.join("").replaceAll(",","")==="XXX"||a.join("").replaceAll(",","")==="OOO")return!0;const i=e.filter((o,c)=>{if(c===2||c===4||c===6)return o});return i.join("").replaceAll(",","")==="XXX"||i.join("").replaceAll(",","")==="OOO"}const f=document.getElementById("container"),m=document.createElement("div");m.id="buttonsContainer";f.after(m);const g=document.createElement("div");g.id="playersContainer";function L(){for(let e=0;e<9;e++){const n=document.createElement("div");n.id=`espacio${e+1}`,n.classList.add("celda"),f.appendChild(n)}return f}function p(e,n,r,s,t="button"){const a=document.createElement(`${t}`);return a.type=`${e}`,a.id=`${n}`,a.classList.add(`${r}`),a.textContent=`${s}`,a}function h(e,n,r){document.getElementById("container").before(g);const t=document.createElement("p");t.id=`player${r}`,t.textContent=`Jugador: ${e} - Marca: ${n}`,g.appendChild(t)}function E(){const e=p("button","iniciar","button","Iniciar"),n=p("button","reset","button","Reiniciar");m.append(e),m.appendChild(n),e.addEventListener("click",()=>{e.classList.add("disabled"),e.disabled=!0;const r=document.createElement("form");r.classList.add("form");for(let t=0;t<2;t++){const a=document.createElement("label");a.htmlFor=`name${t+1}`,a.textContent=`Jugador ${t+1}`;const i=document.createElement("input");i.type="text",i.id=`name${t+1}`,i.required=!0,i.placeholder="Ingresa tu nombre";const o=document.createElement("p");o.textContent=t===0?"Jugador 1 = X":"Jugador 2 = O",o.classList.add("marca"),r.append(a),r.append(i),r.append(o)}document.body.appendChild(r);const s=p("submit","accept","button","Aceptar");r.append(s),r.addEventListener("submit",t=>{t.preventDefault(),[r.elements[0].value.trim(),r.elements[1].value.trim()].forEach((i,o)=>{h(i,o===0?"X":"O",o+1)}),r.remove()})})}function v(){return{gameboard:[" "," "," "," "," "," "," "," "," "],getTablero:function(){return[this.gameboard.slice(0,3),this.gameboard.slice(3,6),this.gameboard.slice(6,9)].map(r=>r.join("|")).join(`
-----
`)},addMark:function(e,n){e.textContent=n},renderBoard:function(){L(),E()},startBoard:function(e){return document.getElementById("playersContainer")},stateBoard:function(e,n,r,s){const t=document.createElement("p");t.classList.add("final"),e&&(t.textContent=`Felicidades ${n} has ganado ðŸŽ‰`,document.body.append(t),s.inert=!0),r===0&&(t.textContent="Â¡Ha sido un empate!",document.body.append(t),s.inert=!0)},resetTablero:function(){this.gameboard=[" "," "," "," "," "," "," "," "," "]}}}function O(e,n){e.querySelectorAll(".celda").forEach(s=>{s.classList.contains("played")||(s.classList.remove("hover-x","hover-o"),s.classList.add(n==="X"?"hover-x":"hover-o"))})}function C(e,n){let r;return e.classList.contains("turno")?(e.classList.remove("turno"),n.classList.add("turno"),r=n,{player:r.textContent.split(" ")[1],mark:"O"}):(n.classList.remove("turno"),e.classList.add("turno"),r=e,{player:r.textContent.split(" ")[1],mark:"X"})}function B(){let e=v();e.renderBoard();let n,r,s,t;const a=document.getElementById("iniciar");a.addEventListener("click",()=>{a.classList.add("active"),i.inert=!1});const i=document.getElementById("container");i.inert=!0,i.addEventListener("click",c=>{if(a.classList.contains("active")&&(n=e.startBoard(a).children[0],r=e.startBoard(a).children[1],a.classList.toggle("active")),!c.target.matches(".celda"))return;if(c.target.textContent!=="X"&&c.target.textContent!=="O"){s=C(n,r),O(i,s.mark),e.addMark(c.target,s.mark);const l=Number(c.target.id.replace("espacio",""));e.gameboard[l-1]=s.mark,c.target.classList.add("played")}let u=!1;u=b(e.gameboard),t=e.gameboard.filter(l=>l===" ").length,e.stateBoard(u,s.player,t,i)}),document.getElementById("reset").addEventListener("click",()=>{e.resetTablero();const c=i.querySelectorAll(".celda");c.forEach(d=>d.textContent=""),c.forEach(d=>{d.classList.contains("played")&&d.classList.remove("played")}),c.forEach(d=>d.classList.remove("hover-x","hover-o"));const u=document.getElementById("playersContainer");u&&(u.innerHTML="");const l=document.querySelector(".final");l&&l.remove(),i.inert=!0;const y=document.getElementById("iniciar");y.classList.remove("disabled","active"),y.disabled=!1,console.clear(),console.log("Juego reiniciado")})}B();
